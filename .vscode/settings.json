{
  // Formatting / Style
  "editor.formatOnSave": true,
  "editor.detectIndentation": false,
  "editor.tabSize": 2,
  "editor.rulers": [
    120
  ],
  // Use CMake presets instead of manual configuration
  "cmake.useCMakePresets": "always",
  "cmake.configureOnOpen": false,
  "cmake.configureOnEdit": false,
  "cmake.loggingLevel": "info",
  // Disable Microsoft's IntelliSense
  "C_Cpp.intelliSenseEngine": "disabled",
  "C_Cpp.autoAddFileAssociations": false,
  // clangd
  "clangd.arguments": [
    "--compile-commands-dir=build/${command:cmake.activeConfigurePresetName}",
    "--header-insertion=never",
    "--clang-tidy",
  ],
  "[cpp]": {
    "editor.defaultFormatter": "xaver.clang-format"
  },
  "[c]": {
    "editor.defaultFormatter": "xaver.clang-format"
  }
}
